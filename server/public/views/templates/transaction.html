<div ng-include="'views/partials/nav.html'"></div>
<div class="container">
    <div ng-controller="TransactionController as tc">
        <!-- <h1 class="md-title">ADD YOUR TRANSACTIONS</h1> -->
        <div>
            <md-button class="md-raised md-primary" ng-click="tc.openWindow()"><md-icon md-svg-icon="images/add.svg"></md-icon> Add transaction</md-button>
        </div>
        <div flex layout="row" layout-align="center center">
        </div>
            <h2 class="md-title">RECORDS FOR TRANSACTIONS</h2><br>
            <div class="searchBar">
                <md-icon md-svg-icon="images/search.svg"></md-icon> <input type="text" placeholder="Search..." ng-model="searchText" />    
            </div>
            <br><br>
            <md-table-container>
                <table md-table class="transactionTbl">
                    <thead md-head>
                        <tr md-row>
                            <th ng-click="tc.sortData('id')">Transaction ID
                                <div ng-class="tc.getSortClass('id')"></div>
                            </th>
                            <th ng-click="tc.sortData('date')">Date
                                <div ng-class="tc.getSortClass('date')"></div>
                            </th>
                            <th ng-click="tc.sortData('description')">Description
                                <div ng-class="tc.getSortClass('description')"></div>
                            </th>
                            <th ng-click="tc.sortData('category_id')">Category ID
                                <div ng-class="tc.getSortClass('category_id')"></div>
                            </th>
                            <th ng-click="tc.sortData('category_name')">Category Name
                                <div ng-class="tc.getSortClass('category_name')"></div>
                            </th>
                            <th ng-click="tc.sortData('amount')">Amount
                                <div ng-class="tc.getSortClass('amount')"></div>
                            </th>
                            <th ng-click="tc.sortData('user_id')">User ID
                                <div ng-class="tc.getSortClass('user_id')"></div>
                            </th>
                        </tr>
                    </thead>
                    <tbody md-body>
                        <tr md-row ng-repeat="transaction in tc.transactionList.data | orderBy:tc.sortColumn:tc.reverseSort | filter:searchText">
                            <td md-cell>{{transaction.id}}</td>
                            <td md-cell>{{transaction.date | date: "MM/dd/yyyy"}}</td>
                            <td md-cell>{{transaction.description | uppercase}}</td>
                            <td md-cell>{{transaction.category_id}}</td>
                            <td md-cell>{{transaction.category_name | uppercase}}</td>
                            <td md-cell>{{transaction.amount | currency: "$"}}</td>
                            <td md-cell>{{transaction.user_id}}</td>
                            <td><button md-button class="sm-raised sm-secondary" type="submit" ng-click="tc.editClicked(transaction);"><md-icon md-svg-icon="images/edit.svg"></md-icon></button></td>
                            <td><button md-button class="sm-raised sm-secondary" type="submit" ng-click="tc.deleteTransaction(transaction.id)"><md-icon md-svg-icon="images/trash.svg"></md-icon></button></td>
                        </tr>
                    </tbody>
                </table>
            </md-table-container>
            <!-- <div>
                <button type="button" ng-csv="getArray" csv-header="['Field A', 'Field B', 'Field C']" filename="test.csv">Export</button>
            </div> -->
            <!-- <button class="btn btn-link" ng-click="exportToExcel('#table1')">
                <span class="glyphicon glyphicon-share"></span> Export to Excel
            </button> -->
    </div>
   
</div>